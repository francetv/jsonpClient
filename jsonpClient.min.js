!function(a,b,c){function d(d){var e={loadScript:d,get:function(c,f){"string"==typeof c&&(c={url:c}),c.callback=f||c.callback,"timeout"in c||(c.timeout=e._defaultTimeout),c.callbackName=c.callbackName||e._callbackNamePrefix+e._requestsCount++,c.timeout&&(c.timeoutHandler=b(e._abortRequest.bind(e,c),c.timeout)),a[c.callbackName]=e._receiveData.bind(e,c);var g=c.url;/\{\{CALLBACK_NAME\}\}/.test(c.url)?g=g.replace("{{CALLBACK_NAME}}",c.callbackName):(g+=~g.indexOf("?")?"&":"?",g+=(c.queryStringKey||e._defaultQueryStringKey)+"="+c.callbackName),d(g,e._scriptLoadCallback.bind(e,c))},_callbackNamePrefix:"_jsonp_loader_callback_request_",_defaultQueryStringKey:"callback",_msgNoData:"no data received",_msgAbort:"jsonp request aborted",_defaultTimeout:500,_requestsCount:0,_receiveData:function(a,b){return e._cleanup(a),a.aborted?void 0:b?void a.callback(null,b):a.callback(new Error(e._msgNoData))},_abortRequest:function(b){b.aborted=!0,a[b.callbackName]=function(){},b.callback(new Error(e._msgAbort))},_scriptLoadCallback:function(a,b){b&&(e._cleanup(a),a.aborted||a.callback(b))},_cleanup:function(b){b.timeoutHandler&&(c(b.timeoutHandler),delete b.timeoutHandler);try{delete a[b.callbackName]}catch(d){a[b.callbackName]=void 0}}};return e}"function"==typeof define&&define.amd?define("jsonpClient",["scriptloader"],d):a.jsonpClient=d(scriptloader)}(this,this.setTimeout,this.clearTimeout);