!function(a,b){function c(){return function(a,c){function d(a){g||(g=!0,f.parentNode.removeChild(f),c(a))}function e(){d(new Error("script load error"))}var f=b.createElement("script"),g=!1;f.addEventListener?(f.addEventListener("load",d.bind(null,null),!0),f.addEventListener("error",e,!0)):(f.onload=f.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||d(null)},f.onerror=e),f.async=!0,f.src=a;var h=b.getElementsByTagName("script")[0];h.parentNode.insertBefore(f,h)}}"function"==typeof define&&define.amd?define("scriptloader",[],c):a.scriptloader=c()}(this,this.document),function(a,b,c,d){function e(b){var e={loadScript:b,get:function(d,f){"string"==typeof d&&(d={url:d}),d.callback=f||d.callback,"timeout"in d||(d.timeout=e._defaultTimeout),d.callbackName=d.callbackName||"_jsonp_loader_callback_request_"+e._requestsCount++,d.timeout&&(d.timeoutHandler=c(e._abortRequest.bind(e,d),d.timeout)),a[d.callbackName]=e._receiveData.bind(e,d);var g=d.url;/\{\{CALLBACK_NAME\}\}/.test(d.url)?g=g.replace("{{CALLBACK_NAME}}",d.callbackName):(g+=~g.indexOf("?")?"&":"?",g+=(d.queryStringKey||"callback")+"="+d.callbackName),b(g,e._scriptLoadCallback.bind(e,d))},_defaultTimeout:500,_requestsCount:0,_receiveData:function(a,b){return e._cleanup(a),a.aborted?void 0:b?void a.callback(null,b):a.callback(new Error("no data received"))},_abortRequest:function(b){b.aborted=!0,a[b.callbackName]=function(){},b.callback(new Error("jsonp request aborted"))},_scriptLoadCallback:function(a,b){b&&(e._cleanup(a),a.aborted||a.callback(b))},_cleanup:function(b){b.timeoutHandler&&(d(b.timeoutHandler),delete b.timeoutHandler);try{delete a[b.callbackName]}catch(c){a[b.callbackName]=void 0}}};return e}"function"==typeof define&&define.amd?define("jsonpClient",["scriptloader"],e):a.jsonpClient=e(scriptloader)}(this,this.document,this.setTimeout,this.clearTimeout);